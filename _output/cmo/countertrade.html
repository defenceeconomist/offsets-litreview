<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>countertrade – Offsets</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-a053849730e33603d127d953164e18b2.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../cmo/arms_trade.html">CMO</a></li><li class="breadcrumb-item"><a href="../cmo/countertrade.html">Chapter&nbsp;1 – Introduction and overview</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Offsets</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Chapters</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/01-research-question.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Research Questions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/02-research-strategy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Methodology</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">Research</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../research/armstrade-deep-research-report.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Defence Offsets, Alliance Integration, and Industrial Collaboration</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../research/articles-deep-research-report.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Alliance-relevance and mechanisms</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../research/countertrade-deep-research-report.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Countertrade Deep Research Report</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../research/global-defence-offset-regimes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Global Defence Offset Regimes (1990-Present)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../research/realist-evidence-synthesis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Defence Offsets: A Realist Literature Review of Contexts, Mechanisms, and Outcomes</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">Screening</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../screening/articles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Article Notes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../screening/book_countertrade.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter&nbsp;1 – Introduction and overview</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../screening/book_economics-of-offsets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Research questions</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">CMO</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cmo/arms_trade.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter&nbsp;1 – Do offsets mitigate or magnify the military burden?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cmo/artlcles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Context, Mechanism and Outcome (CMO) Statements for Offset-Related Articles</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cmo/cmo-statements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Extracted CMO Statements</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cmo/countertrade.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Chapter&nbsp;1 – Introduction and overview</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false">
 <span class="menu-text">Offset Regimes by Country</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../offset-regimes/armstrade.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Arms Trade</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../offset-regimes/articles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Articles</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../offset-regimes/countertrade.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Countertrade</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false">
 <span class="menu-text">PRISMA</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../prisma/prisma.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prisma</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../prisma/what-is-prisma.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">What is a Prisma Diagram</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#chapter-1-introduction-and-overview" id="toc-chapter-1-introduction-and-overview" class="nav-link active" data-scroll-target="#chapter-1-introduction-and-overview"><span class="header-section-number">0.1</span> Chapter&nbsp;1 – Introduction and overview</a></li>
  <li><a href="#chapter-2-countertrade-and-offsets-an-overview-of-theory-and-evidence" id="toc-chapter-2-countertrade-and-offsets-an-overview-of-theory-and-evidence" class="nav-link" data-scroll-target="#chapter-2-countertrade-and-offsets-an-overview-of-theory-and-evidence"><span class="header-section-number">0.2</span> Chapter&nbsp;2 – Countertrade and offsets: an overview of theory and evidence</a></li>
  <li><a href="#chapter-3-the-defence-offsets-policy-in-australia" id="toc-chapter-3-the-defence-offsets-policy-in-australia" class="nav-link" data-scroll-target="#chapter-3-the-defence-offsets-policy-in-australia"><span class="header-section-number">0.3</span> Chapter&nbsp;3 – The defence offsets policy in Australia</a></li>
  <li><a href="#chapter-4-offsets-and-weapons-procurement-the-belgium-experience" id="toc-chapter-4-offsets-and-weapons-procurement-the-belgium-experience" class="nav-link" data-scroll-target="#chapter-4-offsets-and-weapons-procurement-the-belgium-experience"><span class="header-section-number">0.4</span> Chapter&nbsp;4 – Offsets and weapons procurement: the Belgium experience</a></li>
  <li><a href="#chapter-5-in-search-of-a-strategy-the-evolution-of-canadian-defence-industrial-and-regional-benefits-policy" id="toc-chapter-5-in-search-of-a-strategy-the-evolution-of-canadian-defence-industrial-and-regional-benefits-policy" class="nav-link" data-scroll-target="#chapter-5-in-search-of-a-strategy-the-evolution-of-canadian-defence-industrial-and-regional-benefits-policy"><span class="header-section-number">0.5</span> Chapter&nbsp;5 – In search of a strategy: the evolution of Canadian defence industrial and regional benefits policy</a></li>
  <li><a href="#chapter-6-offsets-and-french-arms-exports" id="toc-chapter-6-offsets-and-french-arms-exports" class="nav-link" data-scroll-target="#chapter-6-offsets-and-french-arms-exports"><span class="header-section-number">0.6</span> Chapter&nbsp;6 – Offsets and French arms exports</a></li>
  <li><a href="#chapter-7-offset-benefits-in-greek-defence-procurement-policy-developments-and-empirical-evidence" id="toc-chapter-7-offset-benefits-in-greek-defence-procurement-policy-developments-and-empirical-evidence" class="nav-link" data-scroll-target="#chapter-7-offset-benefits-in-greek-defence-procurement-policy-developments-and-empirical-evidence"><span class="header-section-number">0.7</span> Chapter&nbsp;7 – Offset benefits in Greek defence procurement: policy developments and empirical evidence</a></li>
  <li><a href="#chapter-8-defence-industrialisation-through-offsets-the-case-of-japan" id="toc-chapter-8-defence-industrialisation-through-offsets-the-case-of-japan" class="nav-link" data-scroll-target="#chapter-8-defence-industrialisation-through-offsets-the-case-of-japan"><span class="header-section-number">0.8</span> Chapter&nbsp;8 – Defence industrialisation through offsets: the case of Japan</a></li>
  <li><a href="#chapter-9-saudi-arabia-and-offsets" id="toc-chapter-9-saudi-arabia-and-offsets" class="nav-link" data-scroll-target="#chapter-9-saudi-arabia-and-offsets"><span class="header-section-number">0.9</span> Chapter&nbsp;9 – Saudi Arabia and offsets</a></li>
  <li><a href="#chapter-10-the-teeth-of-the-little-tigers-offsets-defence-production-and-economic-development-in-south-korea-and-taiwan" id="toc-chapter-10-the-teeth-of-the-little-tigers-offsets-defence-production-and-economic-development-in-south-korea-and-taiwan" class="nav-link" data-scroll-target="#chapter-10-the-teeth-of-the-little-tigers-offsets-defence-production-and-economic-development-in-south-korea-and-taiwan"><span class="header-section-number">0.10</span> Chapter&nbsp;10 – The teeth of the little tigers: offsets, defence production and economic development in South Korea and Taiwan</a></li>
  <li><a href="#chapter-11-from-offsets-to-industrial-cooperation-spains-changing-strategies-as-an-arms-importer" id="toc-chapter-11-from-offsets-to-industrial-cooperation-spains-changing-strategies-as-an-arms-importer" class="nav-link" data-scroll-target="#chapter-11-from-offsets-to-industrial-cooperation-spains-changing-strategies-as-an-arms-importer"><span class="header-section-number">0.11</span> Chapter&nbsp;11 – From offsets to industrial cooperation: Spain’s changing strategies as an arms importer</a></li>
  <li><a href="#chapter-12-usswiss-f5-transaction-and-the-evolution-of-swiss-offset-policy" id="toc-chapter-12-usswiss-f5-transaction-and-the-evolution-of-swiss-offset-policy" class="nav-link" data-scroll-target="#chapter-12-usswiss-f5-transaction-and-the-evolution-of-swiss-offset-policy"><span class="header-section-number">0.12</span> Chapter&nbsp;12 – US–Swiss F‑5 transaction and the evolution of Swiss offset policy</a></li>
  <li><a href="#chapter-13-the-uk-experience-with-offsets" id="toc-chapter-13-the-uk-experience-with-offsets" class="nav-link" data-scroll-target="#chapter-13-the-uk-experience-with-offsets"><span class="header-section-number">0.13</span> Chapter&nbsp;13 – The UK experience with offsets</a></li>
  <li><a href="#chapter-14-us-offset-policy" id="toc-chapter-14-us-offset-policy" class="nav-link" data-scroll-target="#chapter-14-us-offset-policy"><span class="header-section-number">0.14</span> Chapter&nbsp;14 – US offset policy</a></li>
  <li><a href="#chapter-15-the-business-of-offset-a-practitioners-perspective-case-study-israel" id="toc-chapter-15-the-business-of-offset-a-practitioners-perspective-case-study-israel" class="nav-link" data-scroll-target="#chapter-15-the-business-of-offset-a-practitioners-perspective-case-study-israel"><span class="header-section-number">0.15</span> Chapter&nbsp;15 – The business of offset: a practitioner’s perspective – case study Israel</a></li>
  <li><a href="#chapter-16-concluding-remarks" id="toc-chapter-16-concluding-remarks" class="nav-link" data-scroll-target="#chapter-16-concluding-remarks"><span class="header-section-number">0.16</span> Chapter&nbsp;16 – Concluding remarks</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../cmo/arms_trade.html">CMO</a></li><li class="breadcrumb-item"><a href="../cmo/countertrade.html">Chapter&nbsp;1 – Introduction and overview</a></li></ol></nav></header>




<p>Below is a chapter‑by‑chapter synthesis of <strong>context</strong>, <strong>mechanism</strong> and <strong>outcome</strong> statements grounded in the source material.</p>
<section id="chapter-1-introduction-and-overview" class="level3" data-number="0.1">
<h3 data-number="0.1" class="anchored" data-anchor-id="chapter-1-introduction-and-overview"><span class="header-section-number">0.1</span> Chapter&nbsp;1 – Introduction and overview</h3>
<ul>
<li><strong>Context:</strong> The author explains the basic forms of offsets – direct and indirect – and notes that governments often weight credits for R&amp;D or high‑technology work. Off‑the‑shelf procurement is cheaper but offers little domestic benefit, whereas indigenous development and offset obligations aim to build national industry.</li>
<li><strong>Mechanism:</strong> By mandating that a share of contract value be spent or invested in the buyer’s economy and giving extra credit for technology transfer, governments hope to stimulate learning‑by‑doing and technological catch‑up.</li>
<li><strong>Outcome:</strong> The chapter does not provide case‑specific effects; it highlights that offsets can potentially support industrialisation but also introduce inefficiencies and additional cost.</li>
<li><strong>Narrative:</strong> Setting the scene for later chapters, this introduction describes offsets as policy tools whereby suppliers return economic value to purchasing countries. The emphasis on technology‑transfer weighting suggests an intention to develop indigenous capabilities, but the author warns that off‑the‑shelf purchases remain cheaper and that the benefits of offsets are uncertain.</li>
</ul>
</section>
<section id="chapter-2-countertrade-and-offsets-an-overview-of-theory-and-evidence" class="level3" data-number="0.2">
<h3 data-number="0.2" class="anchored" data-anchor-id="chapter-2-countertrade-and-offsets-an-overview-of-theory-and-evidence"><span class="header-section-number">0.2</span> Chapter&nbsp;2 – Countertrade and offsets: an overview of theory and evidence</h3>
<ul>
<li><strong>Context:</strong> This theoretical chapter (unavailable in full) surveys countertrade and offset practices. The abstract notes that offsets require exporters to spend a percentage of the sale value in the buyer’s country, either by purchasing goods or investing.</li>
<li><strong>Mechanism:</strong> Governments use offsets to secure economic benefits and political support; however, the practice increases acquisition costs and reduces the buyer’s bargaining power.</li>
<li><strong>Outcome:</strong> The limited available material suggests that offsets may undermine negotiating strength and impose higher prices but can be used as a foreign‑policy tool.</li>
<li><strong>Narrative:</strong> Without the full text, the mechanism–outcome linkage remains general: policymakers demand offsets to capture domestic benefits, yet this can backfire by raising costs and complicating negotiations, and the net effect varies across cases.</li>
</ul>
</section>
<section id="chapter-3-the-defence-offsets-policy-in-australia" class="level3" data-number="0.3">
<h3 data-number="0.3" class="anchored" data-anchor-id="chapter-3-the-defence-offsets-policy-in-australia"><span class="header-section-number">0.3</span> Chapter&nbsp;3 – The defence offsets policy in Australia</h3>
<ul>
<li><strong>Context:</strong> Australia debated mandatory offset schemes, which shift initiative to suppliers and give them scope for opportunism. Policymakers also emphasised local industry participation to achieve self‑reliance.</li>
<li><strong>Mechanism:</strong> Mandatory offsets require contractors to propose and implement economic projects, but this design can encourage them to inflate costs or select minimal‑effort investments, eroding value. Conversely, local content requirements aim to build a domestic support base but increase acquisition cost and lead times.</li>
<li><strong>Outcome:</strong> The chapter concludes that mandatory offsets deliver little advantage; suppliers exploit the system and the purchaser faces higher cost and schedule risk.</li>
<li><strong>Narrative:</strong> In the Australian case, mandatory offset contracts created perverse incentives. Suppliers tailored offset plans to their own advantage and local industry involvement – intended to improve security of supply – caused cost overruns and delays, undermining readiness.</li>
</ul>
</section>
<section id="chapter-4-offsets-and-weapons-procurement-the-belgium-experience" class="level3" data-number="0.4">
<h3 data-number="0.4" class="anchored" data-anchor-id="chapter-4-offsets-and-weapons-procurement-the-belgium-experience"><span class="header-section-number">0.4</span> Chapter&nbsp;4 – Offsets and weapons procurement: the Belgium experience</h3>
<ul>
<li><strong>Context:</strong> Belgium used offsets as a political and economic tool, promising employment, high‑tech industrial growth, foreign‑currency savings and technology transfer.</li>
<li><strong>Mechanism:</strong> By requiring large percentages of offset work, Belgian authorities hoped to steer procurement contracts toward domestic firms. However, these conditions distorted market incentives and encouraged inefficient investments. Lobbying and state intervention further skewed project selection.</li>
<li><strong>Outcome:</strong> Short‑term benefits included job creation and high‑tech activity, but long‑term effects were negative: overcapacity, dependency on government contracts, market distortion and high procurement costs.</li>
<li><strong>Narrative:</strong> Belgium’s aggressive offset demands produced an initial surge in economic activity but created long‑term structural problems. The heavy intervention encouraged firms to rely on state‑mandated work rather than compete globally, ultimately undermining efficiency and industrial resilience.</li>
</ul>
</section>
<section id="chapter-5-in-search-of-a-strategy-the-evolution-of-canadian-defence-industrial-and-regional-benefits-policy" class="level3" data-number="0.5">
<h3 data-number="0.5" class="anchored" data-anchor-id="chapter-5-in-search-of-a-strategy-the-evolution-of-canadian-defence-industrial-and-regional-benefits-policy"><span class="header-section-number">0.5</span> Chapter&nbsp;5 – In search of a strategy: the evolution of Canadian defence industrial and regional benefits policy</h3>
<ul>
<li><strong>Context:</strong> Canada’s Industrial &amp;&nbsp;Regional Benefits (IRB) scheme was designed to maximise regional economic gains, reflecting political pressure rather than industrial strategy.</li>
<li><strong>Mechanism:</strong> By tying procurement decisions to regional benefits, the policy encouraged suppliers to make politically appealing pledges rather than efficient investments. Conflicting objectives and shifting criteria produced inconsistent decisions and resource misallocation.</li>
<li><strong>Outcome:</strong> The chapter notes that IRBs led to inefficient allocation of defence resources; the EH‑101 helicopter offset package was cancelled amid political controversy, illustrating how political imperatives can derail industrial strategies.</li>
<li><strong>Narrative:</strong> Canada’s experience shows that using offsets for regional development can compromise military effectiveness. Political negotiations over job creation and regional balance resulted in sub‑optimal industrial investments and sometimes project cancellation.</li>
</ul>
</section>
<section id="chapter-6-offsets-and-french-arms-exports" class="level3" data-number="0.6">
<h3 data-number="0.6" class="anchored" data-anchor-id="chapter-6-offsets-and-french-arms-exports"><span class="header-section-number">0.6</span> Chapter&nbsp;6 – Offsets and French arms exports</h3>
<ul>
<li><strong>Context:</strong> In the 1974 North European fighter competition, competitors offered exceptional offset packages: Dassault proposed 70&nbsp;% local manufacturing, while General Dynamics promised to create 5,000 jobs and make payments in local currency.</li>
<li><strong>Mechanism:</strong> Offset offers were used as bargaining chips to secure defence contracts. Governments weighed job creation and industrial workshare alongside technical and operational considerations. US lawmakers further linked arms sales to troop deployments, using offsets and defence exports to maintain political leverage.</li>
<li><strong>Outcome:</strong> The generous offset proposals played a decisive role in procurement decisions. Domestic industrial gains were achieved, but the linkage between arms sales and foreign troop presence illustrates the geopolitical stakes.</li>
<li><strong>Narrative:</strong> This chapter demonstrates how offset promises can tip the balance in tight competitions. While they delivered immediate employment and industrial participation, they also entwined defence procurement with broader alliance politics, as evidenced by the US Congress’s threat to reduce troop levels if sales faltered.</li>
</ul>
</section>
<section id="chapter-7-offset-benefits-in-greek-defence-procurement-policy-developments-and-empirical-evidence" class="level3" data-number="0.7">
<h3 data-number="0.7" class="anchored" data-anchor-id="chapter-7-offset-benefits-in-greek-defence-procurement-policy-developments-and-empirical-evidence"><span class="header-section-number">0.7</span> Chapter&nbsp;7 – Offset benefits in Greek defence procurement: policy developments and empirical evidence</h3>
<ul>
<li><strong>Context:</strong> Greece adopted an Offset Benefits Agreement (OIB) system that assigns weighting factors to different categories of work; co‑production and direct defence purchases receive higher multipliers, and suppliers must post a 10&nbsp;% performance guarantee. Programmes also aim to foster licensed production to save R&amp;D costs and provide skilled jobs.</li>
<li><strong>Mechanism:</strong> Higher multipliers and financial guarantees incentivise suppliers to undertake substantive co‑production and technology transfer. By penalising non‑performance and rewarding advanced manufacturing, the policy seeks to create learning‑by‑doing opportunities for Greek firms.</li>
<li><strong>Outcome:</strong> The potential benefits include R&amp;D savings, skilled employment and access to new technologies, but these are realised only if the domestic industrial base can absorb the technology and manage the projects. Without sufficient capacity, offset credits may remain unspent and obligations unmet.</li>
<li><strong>Narrative:</strong> Greece’s weighted offset scheme is structured to steer suppliers toward high‑value activities and ensure accountability. When domestic firms have the capability to exploit transferred know‑how, the scheme can deliver technological upgrades; otherwise, offsets risk becoming paper credits that fail to materialise.</li>
</ul>
</section>
<section id="chapter-8-defence-industrialisation-through-offsets-the-case-of-japan" class="level3" data-number="0.8">
<h3 data-number="0.8" class="anchored" data-anchor-id="chapter-8-defence-industrialisation-through-offsets-the-case-of-japan"><span class="header-section-number">0.8</span> Chapter&nbsp;8 – Defence industrialisation through offsets: the case of Japan</h3>
<ul>
<li><strong>Context:</strong> Post‑war Japan relied on technology transfer through licensed production of US systems such as the F‑86 and F‑104. US export‑control measures sometimes limited access to advanced software, as in the Patriot missile co‑production.</li>
<li><strong>Mechanism:</strong> Licensed production allowed Japanese firms to learn by doing, acquire production tooling and channel imported know‑how into domestic projects. Even when denied key technologies, Japan used available knowledge to develop indigenous weapons like the ASM‑1 anti‑ship missile.</li>
<li><strong>Outcome:</strong> The cumulative effect was a substantial and diversified defence industrial base. Export‑control friction delayed some programmes, but Japan’s ability to adapt and innovate mitigated these challenges.</li>
<li><strong>Narrative:</strong> Japan’s experience illustrates a virtuous cycle: offsets and licensed production provided the platform for industrial take‑off, which in turn enabled domestic innovation. Although US technology denial occasionally hampered specific projects, the overall mechanism of learning and adaptation produced a robust indigenous capability.</li>
</ul>
</section>
<section id="chapter-9-saudi-arabia-and-offsets" class="level3" data-number="0.9">
<h3 data-number="0.9" class="anchored" data-anchor-id="chapter-9-saudi-arabia-and-offsets"><span class="header-section-number">0.9</span> Chapter&nbsp;9 – Saudi Arabia and offsets</h3>
<ul>
<li><strong>Context:</strong> Saudi Arabia uses offsets to diversify its economy and establish long‑term partnerships with foreign firms through joint ventures, technology transfer and investment. Sellers recoup R&amp;D costs by embedding them in offset prices, and the Saudi workforce often lacks the skills needed to absorb the technology.</li>
<li><strong>Mechanism:</strong> Large offset packages promise local factories and technology transfer, but the high cost and skill deficits lead to limited actual manufacturing. Suppliers’ investments serve mainly as entry tickets to a closed market, while buyers struggle to use the transferred technology effectively.</li>
<li><strong>Outcome:</strong> Some joint ventures are established, giving foreign firms market access, but many projects become branch‑plant operations with limited local value added. Licensed manufacturing is often unviable because of low equipment volumes and workforce constraints.</li>
<li><strong>Narrative:</strong> Saudi offsets demonstrate how ambitious technology‑transfer goals can be undermined by structural factors. High prices and limited absorptive capacity mean that while offsets may open a market to foreign firms, the domestic industrial benefits are modest and the buyer risks becoming a passive assembly site.</li>
</ul>
</section>
<section id="chapter-10-the-teeth-of-the-little-tigers-offsets-defence-production-and-economic-development-in-south-korea-and-taiwan" class="level3" data-number="0.10">
<h3 data-number="0.10" class="anchored" data-anchor-id="chapter-10-the-teeth-of-the-little-tigers-offsets-defence-production-and-economic-development-in-south-korea-and-taiwan"><span class="header-section-number">0.10</span> Chapter&nbsp;10 – The teeth of the little tigers: offsets, defence production and economic development in South Korea and Taiwan</h3>
<ul>
<li><strong>Context:</strong> This chapter examines how South Korea and Taiwan used offsets and defence production to spur economic development. The text is not available, so only secondary descriptions inform this summary.</li>
<li><strong>Mechanism:</strong> Without access to the detailed material, mechanisms cannot be elaborated. The general expectation is that offsets required foreign suppliers to co‑produce equipment and transfer technology, thereby fostering indigenous industry.</li>
<li><strong>Outcome:</strong> Insufficient information prevents a meaningful outcome statement.</li>
<li><strong>Narrative:</strong> As the full chapter is inaccessible, no grounded CMO narrative can be provided.</li>
</ul>
</section>
<section id="chapter-11-from-offsets-to-industrial-cooperation-spains-changing-strategies-as-an-arms-importer" class="level3" data-number="0.11">
<h3 data-number="0.11" class="anchored" data-anchor-id="chapter-11-from-offsets-to-industrial-cooperation-spains-changing-strategies-as-an-arms-importer"><span class="header-section-number">0.11</span> Chapter&nbsp;11 – From offsets to industrial cooperation: Spain’s changing strategies as an arms importer</h3>
<ul>
<li><strong>Context:</strong> Spain’s F‑18 purchase was justified by an offset package promising job creation and technology transfer. The contract stipulated that at least 40&nbsp;% of work be high‑tech and 10&nbsp;% involve technology transfer; Spain agreed to cover extra costs because domestic firms were on a learning curve.</li>
<li><strong>Mechanism:</strong> The high‑tech quotas and subsidies were meant to ensure substantive participation and skills development. However, the volume of proposals and ambiguous eligibility criteria overloaded the Offset Management Office. As implementation faltered, Spain shifted from broad offsets to industrial cooperation, encouraging joint ventures and equity investment by foreign firms.</li>
<li><strong>Outcome:</strong> The F‑18 programme created niche expertise and some capacity for maintenance, but many commitments were unfulfilled and deadlines extended. Industrial cooperation and joint ventures later provided more sustainable collaboration opportunities.</li>
<li><strong>Narrative:</strong> Spain’s case highlights the trade‑off between ambitious offset promises and administrative capacity. While high‑technology requirements signalled a desire for durable collaboration, the sheer scale of obligations led to delays and unmet targets. A subsequent pivot towards joint ventures improved outcomes by focusing on manageable, long‑term partnerships.</li>
</ul>
</section>
<section id="chapter-12-usswiss-f5-transaction-and-the-evolution-of-swiss-offset-policy" class="level3" data-number="0.12">
<h3 data-number="0.12" class="anchored" data-anchor-id="chapter-12-usswiss-f5-transaction-and-the-evolution-of-swiss-offset-policy"><span class="header-section-number">0.12</span> Chapter&nbsp;12 – US–Swiss F‑5 transaction and the evolution of Swiss offset policy</h3>
<ul>
<li><strong>Context:</strong> Switzerland’s first offset agreement (Peace Alps I) required US contractors to place 30&nbsp;% of work in Swiss industry but provided no penalties for non‑performance. Swiss firms lacked experience and expected orders automatically; US procurement paperwork proved confusing. Swiss policy values licensed production and co‑production for training, technology acquisition, upgrade capability and in‑country spares. Parliament accepts paying up to 10&nbsp;% more for equipment to secure offsets, but worries about accurate accounting. Later reforms raised offset percentages and required certification.</li>
<li><strong>Mechanism:</strong> Early programmes operated on a best‑efforts basis, which allowed contractors to delay offset placement. Learning from this, the Swiss introduced mandatory percentages, tightened eligibility, and emphasised licensed production to build domestic capability.</li>
<li><strong>Outcome:</strong> Eventually Switzerland developed greater maintenance and production capability, but initial projects were slow and costly. Concerns over cost premiums and creative accounting persisted, although reforms improved compliance.</li>
<li><strong>Narrative:</strong> Switzerland’s trajectory shows how a pragmatic, incremental approach can convert early missteps into lasting capacity. By moving from voluntary to mandatory offsets and focusing on licensed production, the country built a credible defence industrial base while controlling costs through caps and audit requirements.</li>
</ul>
</section>
<section id="chapter-13-the-uk-experience-with-offsets" class="level3" data-number="0.13">
<h3 data-number="0.13" class="anchored" data-anchor-id="chapter-13-the-uk-experience-with-offsets"><span class="header-section-number">0.13</span> Chapter&nbsp;13 – The UK experience with offsets</h3>
<ul>
<li><strong>Context:</strong> The UK’s acquisition of AWACS aircraft included a 130&nbsp;% offset commitment aimed at offsetting the cancellation of the indigenous Nimrod project. Most offsets were indirect and consisted of follow‑on orders and commercial sales.</li>
<li><strong>Mechanism:</strong> Offset credits were awarded for work that may have occurred anyway, including low‑technology tasks; there was little verification that projects were genuinely additional. The defence committee allowed 60&nbsp;% credit for follow‑on orders, further diluting the linkage between offsets and new activity.</li>
<li><strong>Outcome:</strong> Monitoring revealed that the offset programme created or sustained only about 1,392 jobs, far fewer than advertised. Surveys found mean cost premiums of around 14.4&nbsp;%, with the buyer bearing the cost.</li>
<li><strong>Narrative:</strong> The UK case illustrates how loose definitions and generous crediting can render offsets ineffective. Without stringent criteria, suppliers claimed credit for existing work, leading to minimal job creation and significant cost premiums.</li>
</ul>
</section>
<section id="chapter-14-us-offset-policy" class="level3" data-number="0.14">
<h3 data-number="0.14" class="anchored" data-anchor-id="chapter-14-us-offset-policy"><span class="header-section-number">0.14</span> Chapter&nbsp;14 – US offset policy</h3>
<ul>
<li><strong>Context:</strong> Early US licensed‑production programmes (e.g., F‑86, F‑104) were designed to help allies assimilate American technology rather than to maximise exports. Later, Section&nbsp;825 of the National Defence Authorization Act mandated that the President report on large offset deals and negotiate with offset‑demanding countries, but the Department of Defense delayed issuing regulations. MOUs with allies include clauses to discuss limiting adverse effects of offsets, yet consultations remain largely fact‑finding.</li>
<li><strong>Mechanism:</strong> The US uses offsets selectively to strengthen allies’ industrial capacity (licensed production) but lacks a coherent policy to manage broader economic and security impacts. Legislative requirements to curb offsets are undermined by bureaucratic resistance and competing objectives.</li>
<li><strong>Outcome:</strong> The result is an ambivalent and fragmented policy: some programmes successfully build allied capabilities, while efforts to limit offsets’ negative effects see little progress.</li>
<li><strong>Narrative:</strong> US policy oscillates between supporting allied industrialisation and restraining offsets to protect its own industrial base. The lack of clear direction means that offsets continue largely unchecked, with outcomes depending on individual programme design and the political context.</li>
</ul>
</section>
<section id="chapter-15-the-business-of-offset-a-practitioners-perspective-case-study-israel" class="level3" data-number="0.15">
<h3 data-number="0.15" class="anchored" data-anchor-id="chapter-15-the-business-of-offset-a-practitioners-perspective-case-study-israel"><span class="header-section-number">0.15</span> Chapter&nbsp;15 – The business of offset: a practitioner’s perspective – case study Israel</h3>
<ul>
<li><strong>Context:</strong> Israel’s Industrial Cooperation programme requires foreign suppliers to place at least 35&nbsp;% of contract value with Israeli firms but allows flexibility in how this is achieved. It gives high credit for R&amp;D, capital investment and software and does not impose liquidated damages; a law is planned to make offsets mandatory for civil‑sector companies.</li>
<li><strong>Mechanism:</strong> The programme emphasises long‑term partnerships and subcontracting; foreign firms collaborate with Israeli companies to develop products, transfer technology and access global markets. Competitive procurement has led suppliers to offer offsets well above minimum levels, sometimes exceeding 70&nbsp;%.</li>
<li><strong>Outcome:</strong> Numerous partnerships and investments have grown out of offset obligations, integrating Israeli firms into global supply chains. However, the spiralling competition has raised concerns about unrealistic promises and potential domestic job losses when work is performed overseas.</li>
<li><strong>Narrative:</strong> Israel’s experience shows how flexible, incentive‑based offset policies can foster meaningful industrial cooperation. By valuing R&amp;D and capital investment, the policy encourages substantive engagements, though the absence of strict enforcement can lead to an arms race of offset bids with uncertain domestic benefits.</li>
</ul>
</section>
<section id="chapter-16-concluding-remarks" class="level3" data-number="0.16">
<h3 data-number="0.16" class="anchored" data-anchor-id="chapter-16-concluding-remarks"><span class="header-section-number">0.16</span> Chapter&nbsp;16 – Concluding remarks</h3>
<ul>
<li><strong>Context:</strong> Many offset programmes lack transparent data; evaluators often cannot tell whether credited work is genuinely new or would have been placed anyway. Early agreements were based on unrealistic expectations and “best endeavours” commitments. There is now a shift towards more focused offsets such as joint ventures and banking credits.</li>
<li><strong>Mechanism:</strong> Initial misperceptions led vendors to underestimate costs and buyers to assume offsets guaranteed orders. Penalties and banked credits were introduced to enforce compliance and encourage continuous work. Joint ventures tie foreign and domestic firms together, promoting long‑term cooperation and accountability.</li>
<li><strong>Outcome:</strong> Focused measures and penalties improved performance, but lack of data still hinders robust evaluation. Competitive pressures mean offsets continue, though the form is evolving towards deeper partnerships.</li>
<li><strong>Narrative:</strong> The concluding chapter synthesises lessons from multiple cases: successful offsets require clear data, realistic expectations and credible enforcement. Moving away from broad, transactional offsets to targeted joint ventures and equity investments may yield better industrial and alliance outcomes.</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>